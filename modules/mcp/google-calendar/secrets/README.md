# Google Calendar MCP - Secrets

This folder contains sensitive Google OAuth credentials and tokens. **Do not commit these files to version control.**

## üöÄ Quick Setup

### Step 1: Get Your Credentials

1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project (or select existing)
3. Enable the **Google Calendar API**
4. Go to **Credentials** ‚Üí **Create Credentials** ‚Üí **OAuth client ID**
5. Choose **Desktop application**
6. Download the credentials as JSON

### Step 2: Replace the Template

```bash
# Copy your downloaded credentials here, replacing the template
cp ~/Downloads/client_secret_*.json credentials.json

# Or if you prefer, open credentials.json and paste your credentials
```

**Important:** Replace the ENTIRE contents of `credentials.json` with your downloaded OAuth credentials from Google Cloud Console.

### Step 3: First Authentication

Run the test script to authenticate:

```bash
cd modules/mcp/google-calendar
python tests/test_credentials.py
```

- A browser will open for Google login
- Grant permissions to your app
- `token.json` will be automatically created/updated by Google

### Step 4: Verify

```bash
ls -la secrets/
# You should see:
# - credentials.json (YOUR OAuth client credentials)
# - token.json (auto-generated by Google after auth)
```

‚úÖ You're ready! The MCP server will now use these credentials automatically.

---

## Files in This Folder

### `credentials.json` ‚ö†Ô∏è **REQUIRED - Replace with your own!**

Your Google OAuth 2.0 client credentials.

**Currently:** Contains a template/placeholder  
**You must:** Replace with your actual credentials from Google Cloud Console

**Template provided (`credentials.json.template`)** shows the expected format.

### `token.json` ‚úÖ **Auto-generated**

Cached OAuth access/refresh token.

- **Auto-created** by Google on first authentication
- **Auto-updated** by Google when token expires
- Stores your authorized session
- You don't need to create or edit this file manually

---

## How It Works

1. **Hardcoded Path:** The MCP server always looks in this `secrets/` folder
2. **No environment variables needed** for paths (they're hardcoded)
3. **You only need to:** Put your `credentials.json` here
4. **Google handles:** Creating and updating `token.json` automatically

---

## File Structure

```
secrets/
‚îú‚îÄ‚îÄ README.md                    # This file
‚îú‚îÄ‚îÄ credentials.json.template    # Example format (DO NOT USE)
‚îú‚îÄ‚îÄ credentials.json             # üëà REPLACE THIS with your file
‚îî‚îÄ‚îÄ token.json                   # Auto-created by Google
```

---

## Troubleshooting

### "Invalid client secrets"

You're still using the template file. Replace `credentials.json` with your actual credentials from Google Cloud Console.

### "credentials.json not found"

Make sure the file is named exactly `credentials.json` (not `credentials (1).json` or `client_secret_xxx.json`).

### "Token has been expired or revoked"

Normal! Google will automatically refresh it. If it fails, delete `token.json` and re-authenticate:

```bash
rm secrets/token.json
python tests/test_credentials.py
```

### Permission errors

Set proper permissions:

```bash
chmod 600 secrets/credentials.json
chmod 600 secrets/token.json
```

---

## Security Notes

‚ö†Ô∏è **Important:**

- Never commit `credentials.json` or `token.json` to Git
- These files are in `.gitignore` by default
- The templates (`.template` files) are safe to commit
- Store credentials securely with restricted permissions
- Revoke access at: https://myaccount.google.com/permissions

---

## Environment Variables (Optional)

You can still override paths via environment variables if needed:

```dotenv
GOOGLE_CREDENTIALS_PATH=/custom/path/credentials.json
GOOGLE_TOKEN_PATH=/custom/path/token.json
```

But for most users, just putting files in this folder is easier!
